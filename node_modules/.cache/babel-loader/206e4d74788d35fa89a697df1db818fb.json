{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\aluraflix\\\\src\\\\pages\\\\cadastro\\\\Video\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport PageDefault from '../../../components/PageDefault';\nimport useForm from '../../../hooks/useForm';\nimport FormField from '../../../components/Carousel/components/FormField';\nimport Button from '../../../components/Button';\nimport videosRepository from '../../../repositories/videos';\nimport categoriasRepository from '../../../repositories/categorias';\n\nfunction CadastroVideo() {\n  const history = useHistory();\n  const [categorias, setCategorias] = useState([]);\n  const categoryTitles = categorias.map(({\n    titulo\n  }) => titulo);\n  const {\n    handleChange,\n    values\n  } = useForm({\n    titulo: 'Video padrão',\n    url: 'https://www.youtube.com/watch?v=jOAU81jdi-c',\n    categoria: 'Front End'\n  });\n  useEffect(() => {\n    categoriasRepository.getAll().then(categoriasFromServer => {\n      setCategorias(categoriasFromServer);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(PageDefault, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, \"Cadastro de Video\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => {\n      event.preventDefault(); // alert('Video Cadastrado com sucesso!!!1!');\n\n      const categoriaEscolhida = categorias.find(categoria => {\n        return categoria.titulo === values.categoria;\n      });\n      videosRepository.create({\n        titulo: values.titulo,\n        url: values.url,\n        categoriaId: categoriaEscolhida.id\n      }).then(() => {\n        console.log('Cadastrou com sucesso!');\n        history.push('/');\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormField, {\n    label: \"T\\xEDtulo do V\\xEDdeo\",\n    name: \"titulo\",\n    value: values.titulo,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormField, {\n    label: \"URL\",\n    name: \"url\",\n    value: values.url,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormField, {\n    label: \"Categoria\",\n    name: \"categoria\",\n    value: values.categoria,\n    onChange: handleChange,\n    suggestions: categoryTitles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Cadastrar\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/cadastro/categoria\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Cadastrar Categoria\"));\n}\n\nexport default CadastroVideo;","map":{"version":3,"sources":["C:/Users/User/OneDrive/Área de Trabalho/aluraflix/src/pages/cadastro/Video/index.js"],"names":["React","useEffect","useState","Link","useHistory","PageDefault","useForm","FormField","Button","videosRepository","categoriasRepository","CadastroVideo","history","categorias","setCategorias","categoryTitles","map","titulo","handleChange","values","url","categoria","getAll","then","categoriasFromServer","event","preventDefault","categoriaEscolhida","find","create","categoriaId","id","console","log","push"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport PageDefault from '../../../components/PageDefault';\r\nimport useForm from '../../../hooks/useForm';\r\nimport FormField from '../../../components/Carousel/components/FormField';\r\nimport Button from '../../../components/Button';\r\nimport videosRepository from '../../../repositories/videos';\r\nimport categoriasRepository from '../../../repositories/categorias';\r\n\r\nfunction CadastroVideo() {\r\n    const history = useHistory();\r\n    const [categorias, setCategorias] = useState([]);\r\n    const categoryTitles = categorias.map(({ titulo }) => titulo);\r\n    const { handleChange, values } = useForm({\r\n        titulo: 'Video padrão',\r\n        url: 'https://www.youtube.com/watch?v=jOAU81jdi-c',\r\n        categoria: 'Front End',\r\n    });\r\n\r\n    useEffect(() => {\r\n        categoriasRepository\r\n            .getAll()\r\n            .then((categoriasFromServer) => {\r\n                setCategorias(categoriasFromServer);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <PageDefault>\r\n            <h1>Cadastro de Video</h1>\r\n\r\n            <form onSubmit={(event) => {\r\n                event.preventDefault();\r\n                // alert('Video Cadastrado com sucesso!!!1!');\r\n\r\n                const categoriaEscolhida = categorias.find((categoria) => {\r\n                    return categoria.titulo === values.categoria;\r\n                });\r\n\r\n                videosRepository.create({\r\n                    titulo: values.titulo,\r\n                    url: values.url,\r\n                    categoriaId: categoriaEscolhida.id,\r\n                })\r\n                    .then(() => {\r\n                        console.log('Cadastrou com sucesso!');\r\n                        history.push('/');\r\n                    });\r\n                }}>\r\n\r\n                <FormField\r\n                    label=\"Título do Vídeo\"\r\n                    name=\"titulo\"\r\n                    value={values.titulo}\r\n                    onChange={handleChange}\r\n                />\r\n\r\n                <FormField\r\n                    label=\"URL\"\r\n                    name=\"url\"\r\n                    value={values.url}\r\n                    onChange={handleChange}\r\n                />\r\n\r\n                <FormField\r\n                    label=\"Categoria\"\r\n                    name=\"categoria\"\r\n                    value={values.categoria}\r\n                    onChange={handleChange}\r\n                    suggestions={categoryTitles}\r\n                />\r\n\r\n                <Button type=\"submit\">\r\n                    Cadastrar\r\n                </Button>\r\n            </form>\r\n\r\n            <br />\r\n            <br />\r\n\r\n            <Link to=\"/cadastro/categoria\">\r\n                Cadastrar Categoria\r\n            </Link>\r\n        </PageDefault>\r\n    );\r\n}\r\n\r\nexport default CadastroVideo;"]},"metadata":{},"sourceType":"module"}